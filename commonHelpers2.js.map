{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst formData = { email: '', message: '' };\nconst STORAGE_KEY = 'feedback-form-state';\n\nconst formEl = document.querySelector('.feedback-form');\n\nformEl.addEventListener('submit', event => {\n  event.preventDefault();\n  if (validateForm()) {\n    return;\n  }\n  const enteredData = new FormData(formEl);\n  formData.email = enteredData.get('email').trim();\n  formData.message = enteredData.get('message').trim();\n\n  console.log(formData);\n\n  localStorage.removeItem(STORAGE_KEY);\n  event.target.reset();\n});\n\nformEl.addEventListener('input', () => {\n  const enteredData = new FormData(formEl);\n  formData.email = enteredData.get('email').trim();\n  formData.message = enteredData.get('message').trim();\n  writeToLS(STORAGE_KEY, formData);\n});\n\nfunction renderPage() {\n  const preEnteredData = readFromLS(STORAGE_KEY) || {};\n  formEl.elements.email.value = preEnteredData.email || '';\n  formEl.elements.message.value = preEnteredData.message || '';\n}\n\nrenderPage();\n\n//========\n\nfunction validateForm() {\n  const enteredData = new FormData(formEl);\n  if (\n    enteredData.get('email').trim() === '' ||\n    enteredData.get('message').trim() === ''\n  ) {\n    iziToast.show({\n      message: 'Fill please all fields',\n      color: 'red',\n      timeout: 10000,\n      displayMode: 'replace',\n    });\n    return true;\n  }\n}\n\nfunction writeToLS(key, value) {\n  localStorage.setItem(key, JSON.stringify(value));\n}\n\nfunction readFromLS(key) {\n  const data = localStorage.getItem(key);\n  try {\n    return JSON.parse(data);\n  } catch (error) {\n    console.log(error);\n  }\n}\n"],"names":["formData","STORAGE_KEY","formEl","event","validateForm","enteredData","writeToLS","renderPage","preEnteredData","readFromLS","iziToast","key","value","data","error"],"mappings":"oGAGA,MAAMA,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EACnCC,EAAc,sBAEdC,EAAS,SAAS,cAAc,gBAAgB,EAEtDA,EAAO,iBAAiB,SAAUC,GAAS,CAEzC,GADAA,EAAM,eAAc,EAChBC,EAAY,EACd,OAEF,MAAMC,EAAc,IAAI,SAASH,CAAM,EACvCF,EAAS,MAAQK,EAAY,IAAI,OAAO,EAAE,OAC1CL,EAAS,QAAUK,EAAY,IAAI,SAAS,EAAE,OAE9C,QAAQ,IAAIL,CAAQ,EAEpB,aAAa,WAAWC,CAAW,EACnCE,EAAM,OAAO,OACf,CAAC,EAEDD,EAAO,iBAAiB,QAAS,IAAM,CACrC,MAAMG,EAAc,IAAI,SAASH,CAAM,EACvCF,EAAS,MAAQK,EAAY,IAAI,OAAO,EAAE,OAC1CL,EAAS,QAAUK,EAAY,IAAI,SAAS,EAAE,OAC9CC,EAAUL,EAAaD,CAAQ,CACjC,CAAC,EAED,SAASO,GAAa,CACpB,MAAMC,EAAiBC,EAAWR,CAAW,GAAK,CAAA,EAClDC,EAAO,SAAS,MAAM,MAAQM,EAAe,OAAS,GACtDN,EAAO,SAAS,QAAQ,MAAQM,EAAe,SAAW,EAC5D,CAEAD,IAIA,SAASH,GAAe,CACtB,MAAMC,EAAc,IAAI,SAASH,CAAM,EACvC,GACEG,EAAY,IAAI,OAAO,EAAE,KAAM,IAAK,IACpCA,EAAY,IAAI,SAAS,EAAE,KAAM,IAAK,GAEtC,OAAAK,EAAS,KAAK,CACZ,QAAS,yBACT,MAAO,MACP,QAAS,IACT,YAAa,SACnB,CAAK,EACM,EAEX,CAEA,SAASJ,EAAUK,EAAKC,EAAO,CAC7B,aAAa,QAAQD,EAAK,KAAK,UAAUC,CAAK,CAAC,CACjD,CAEA,SAASH,EAAWE,EAAK,CACvB,MAAME,EAAO,aAAa,QAAQF,CAAG,EACrC,GAAI,CACF,OAAO,KAAK,MAAME,CAAI,CACvB,OAAQC,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CACH"}