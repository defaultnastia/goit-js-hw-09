{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst formData = { email: '', message: '' };\nconst STORAGE_KEY = 'feedback-form-state';\n\nconst formEl = document.querySelector('.feedback-form');\n\nrenderPage();\n\nformEl.addEventListener('submit', event => {\n  event.preventDefault();\n  if (validateForm()) {\n    return;\n  }\n  const enteredData = new FormData(formEl);\n  formData.email = enteredData.get('email').trim();\n  formData.message = enteredData.get('message').trim();\n\n  console.log(formData);\n\n  localStorage.removeItem(STORAGE_KEY);\n  event.target.reset();\n});\n\nformEl.addEventListener('input', () => {\n  const enteredData = new FormData(formEl);\n  formData.email = enteredData.get('email').trim();\n  formData.message = enteredData.get('message').trim();\n  writeToLS(STORAGE_KEY, formData);\n});\n\n//========\n\nfunction validateForm() {\n  const enteredData = new FormData(formEl);\n  if (\n    enteredData.get('email').trim() === '' ||\n    enteredData.get('message').trim() === ''\n  ) {\n    iziToast.show({\n      message: 'Fill please all fields',\n      color: 'red',\n      timeout: 10000,\n      displayMode: 'replace',\n    });\n    return true;\n  }\n}\n\nfunction writeToLS(key, value) {\n  localStorage.setItem(key, JSON.stringify(value));\n}\n\nfunction readFromLS(key) {\n  const data = localStorage.getItem(key);\n  try {\n    return JSON.parse(data);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nfunction renderPage() {\n  const preEnteredData = readFromLS(STORAGE_KEY) || {};\n  formEl.elements.email.value = preEnteredData.email || '';\n  formEl.elements.message.value = preEnteredData.message || '';\n}\n"],"names":["formData","STORAGE_KEY","formEl","renderPage","event","validateForm","enteredData","writeToLS","iziToast","key","value","readFromLS","data","error","preEnteredData"],"mappings":"wIAGA,MAAMA,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EACnCC,EAAc,sBAEdC,EAAS,SAAS,cAAc,gBAAgB,EAEtDC,IAEAD,EAAO,iBAAiB,SAAUE,GAAS,CAEzC,GADAA,EAAM,eAAc,EAChBC,EAAY,EACd,OAEF,MAAMC,EAAc,IAAI,SAASJ,CAAM,EACvCF,EAAS,MAAQM,EAAY,IAAI,OAAO,EAAE,OAC1CN,EAAS,QAAUM,EAAY,IAAI,SAAS,EAAE,OAE9C,QAAQ,IAAIN,CAAQ,EAEpB,aAAa,WAAWC,CAAW,EACnCG,EAAM,OAAO,OACf,CAAC,EAEDF,EAAO,iBAAiB,QAAS,IAAM,CACrC,MAAMI,EAAc,IAAI,SAASJ,CAAM,EACvCF,EAAS,MAAQM,EAAY,IAAI,OAAO,EAAE,OAC1CN,EAAS,QAAUM,EAAY,IAAI,SAAS,EAAE,OAC9CC,EAAUN,EAAaD,CAAQ,CACjC,CAAC,EAID,SAASK,GAAe,CACtB,MAAMC,EAAc,IAAI,SAASJ,CAAM,EACvC,GACEI,EAAY,IAAI,OAAO,EAAE,KAAM,IAAK,IACpCA,EAAY,IAAI,SAAS,EAAE,KAAM,IAAK,GAEtC,OAAAE,EAAS,KAAK,CACZ,QAAS,yBACT,MAAO,MACP,QAAS,IACT,YAAa,SACnB,CAAK,EACM,EAEX,CAEA,SAASD,EAAUE,EAAKC,EAAO,CAC7B,aAAa,QAAQD,EAAK,KAAK,UAAUC,CAAK,CAAC,CACjD,CAEA,SAASC,EAAWF,EAAK,CACvB,MAAMG,EAAO,aAAa,QAAQH,CAAG,EACrC,GAAI,CACF,OAAO,KAAK,MAAMG,CAAI,CACvB,OAAQC,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CACH,CAEA,SAASV,GAAa,CACpB,MAAMW,EAAiBH,EAAWV,CAAW,GAAK,CAAA,EAClDC,EAAO,SAAS,MAAM,MAAQY,EAAe,OAAS,GACtDZ,EAAO,SAAS,QAAQ,MAAQY,EAAe,SAAW,EAC5D"}